<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Initializes a new VISION object. — Vision • VISION</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Initializes a new VISION object. — Vision" />
<meta property="og:description" content="Initializes a Vision object from an existing Seurat object taking any existing
expression data, meta-data, and dimensionality reductions if they exist already
Initializes a Vision object from an existing Seurat object taking any existing
expression data, meta-data, and dimensionality reductions if they exist already" />
<meta property="og:image" content="https://yoseflab.github.io/VISION/logo.svg" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">VISION</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">3.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/VISION-vignette.html">Getting Started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Signatures.html">Gene Signatures</a>
    </li>
    <li>
      <a href="../articles/web_only/SignatureAutocorrelation.html">Signature Autocorrelation</a>
    </li>
    <li>
      <a href="../articles/micropooling.html">Micropooling</a>
    </li>
    <li>
      <a href="../articles/trajectories.html">Incorporating a Trajectory Model</a>
    </li>
    <li>
      <a href="../articles/phyloVision.html">PhyloVision and Hotspot</a>
    </li>
    <li>
      <a href="../articles/spatialHotspot.html">Spatial Data and Hotspot</a>
    </li>
    <li>
      <a href="../articles/web_only/Seurat.html">How To: Working with Seurat</a>
    </li>
    <li>
      <a href="../articles/web_only/10xData.html">How To: 10x CellRanger Outputs</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/YosefLab/VISION/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Initializes a new VISION object.</h1>
    <small class="dont-index">Source: <a href='https://github.com/YosefLab/VISION/blob/master/R/AllGenerics.R'><code>R/AllGenerics.R</code></a>, <a href='https://github.com/YosefLab/VISION/blob/master/R/methods-Vision.R'><code>R/methods-Vision.R</code></a></small>
    <div class="hidden name"><code>VISION-class.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Initializes a Vision object from an existing Seurat object taking any existing
expression data, meta-data, and dimensionality reductions if they exist already</p>
<p>Initializes a Vision object from an existing Seurat object taking any existing
expression data, meta-data, and dimensionality reductions if they exist already</p>
    </div>

    <pre class="usage"><span class='fu'>Vision</span><span class='op'>(</span><span class='va'>data</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S4 method for matrixORSparse</span>
<span class='fu'>Vision</span><span class='op'>(</span>
  <span class='va'>data</span>,
  signatures <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>,
  proteinData <span class='op'>=</span> <span class='cn'>NULL</span>,
  unnormalizedData <span class='op'>=</span> <span class='cn'>NULL</span>,
  meta <span class='op'>=</span> <span class='cn'>NULL</span>,
  projection_genes <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"fano"</span><span class='op'>)</span>,
  min_signature_genes <span class='op'>=</span> <span class='fl'>5</span>,
  sig_gene_threshold <span class='op'>=</span> <span class='fl'>0.001</span>,
  threshold <span class='op'>=</span> <span class='fl'>0.05</span>,
  perm_wPCA <span class='op'>=</span> <span class='cn'>FALSE</span>,
  projection_methods <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"tSNE30"</span><span class='op'>)</span>,
  sig_norm_method <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"znorm_columns"</span>, <span class='st'>"none"</span>, <span class='st'>"znorm_rows"</span>, <span class='st'>"znorm_rows_then_columns"</span>,
    <span class='st'>"rank_norm_columns"</span><span class='op'>)</span>,
  pool <span class='op'>=</span> <span class='st'>"auto"</span>,
  cellsPerPartition <span class='op'>=</span> <span class='fl'>10</span>,
  name <span class='op'>=</span> <span class='cn'>NULL</span>,
  num_neighbors <span class='op'>=</span> <span class='cn'>NULL</span>,
  latentSpace <span class='op'>=</span> <span class='cn'>NULL</span>,
  latentSpaceName <span class='op'>=</span> <span class='cn'>NULL</span>,
  latentTrajectory <span class='op'>=</span> <span class='cn'>NULL</span>,
  tree <span class='op'>=</span> <span class='cn'>NULL</span>,
  modData <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>,
  hotspot <span class='op'>=</span> <span class='cn'>NULL</span>,
  pools <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='op'>)</span>

<span class='co'># S4 method for data.frame</span>
<span class='fu'>Vision</span><span class='op'>(</span><span class='va'>data</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S4 method for sparseMatrix</span>
<span class='fu'>Vision</span><span class='op'>(</span><span class='va'>data</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S4 method for dgeMatrix</span>
<span class='fu'>Vision</span><span class='op'>(</span><span class='va'>data</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S4 method for ExpressionSet</span>
<span class='fu'>Vision</span><span class='op'>(</span><span class='va'>data</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S4 method for SummarizedExperiment</span>
<span class='fu'>Vision</span><span class='op'>(</span><span class='va'>data</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S4 method for seurat</span>
<span class='fu'>Vision</span><span class='op'>(</span><span class='va'>data</span>, dimRed <span class='op'>=</span> <span class='cn'>NULL</span>, dimRedComponents <span class='op'>=</span> <span class='cn'>NULL</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S4 method for Seurat</span>
<span class='fu'>Vision</span><span class='op'>(</span><span class='va'>data</span>, assay <span class='op'>=</span> <span class='st'>"RNA"</span>, dimRed <span class='op'>=</span> <span class='cn'>NULL</span>, dimRedComponents <span class='op'>=</span> <span class='cn'>NULL</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>expression data - can be one of these:</p><ul>
<li><p>numeric matrix or sparse matrix (GENES x CELLS)</p></li>
<li><p>data.frame (GENES x CELLS)</p></li>
<li><p>ExpressionSet object</p></li>
<li><p>SummzrizedExperiment object (or extending classes)</p></li>
</ul><p>Expression data should be scaled and normalized, but not log-transformed.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>arguments passed to the base Vision constructor</p></td>
    </tr>
    <tr>
      <th>signatures</th>
      <td><p>list of file paths to signature files (.gmt or .txt) or
Signature objects.  See the createGeneSignature(...) method for information
on creating Signature objects.</p></td>
    </tr>
    <tr>
      <th>proteinData</th>
      <td><p>additional protein abundance data (such as ADT counts).
Can be either a data.frame or numeric matrix.  Should be of shape (CELLS x PROTEINS)</p></td>
    </tr>
    <tr>
      <th>unnormalizedData</th>
      <td><p>data.frame or numeric matrix (dense or sparse) - used
when displaying gene expression values in the output report.  If supplied
this overrides the input in `data` but only when visualizing data.</p></td>
    </tr>
    <tr>
      <th>meta</th>
      <td><p>data.frame with meta-data for cells. Rows in this data.frame should correspond
with columns in the expression data matrix</p></td>
    </tr>
    <tr>
      <th>projection_genes</th>
      <td><p>name of filtering method ('threshold' or 'fano') or list of
genes to use when computing projections.</p></td>
    </tr>
    <tr>
      <th>min_signature_genes</th>
      <td><p>Signature that match less than this number of genes in the
supplied expression matrix are removed.</p></td>
    </tr>
    <tr>
      <th>sig_gene_threshold</th>
      <td><p>Proportion of cells that a gene must be detected in (nonzero)
to be used in signature score calculations.</p></td>
    </tr>
    <tr>
      <th>threshold</th>
      <td><p>Threshold to apply when using the 'threshold' or 'fano' projection genes filter.
If greater than 1, this specifies the number of cells in which a gene must be detected
for it to be used when computing PCA. If less than 1, this instead specifies the proportion of cells needed</p></td>
    </tr>
    <tr>
      <th>perm_wPCA</th>
      <td><p>If TRUE, apply permutation procedure to calculate significant
number of PCs when running PCA.  If FALSE (default), retain the top 30.</p></td>
    </tr>
    <tr>
      <th>projection_methods</th>
      <td><p>a character vector specifying which projection methods to apply. Can be:</p><ul>
<li><p>tSNE10 (tSNE with perplexity 10)</p></li>
<li><p>tSNE30 (tSNE with perplexity 30)</p></li>
<li><p>ICA</p></li>
<li><p>ISOMap</p></li>
<li><p>RBFPCA</p></li>
<li><p>UMAP</p></li>
</ul><p>By default will perform tSNE and PCA on the data.</p></td>
    </tr>
    <tr>
      <th>sig_norm_method</th>
      <td><p>Method to apply to normalize the expression matrix
before calculating signature scores. Valid options are:
"znorm_columns" (default), "none", "znorm_rows", "znorm_rows_then_columns",
or "rank_norm_columns"</p></td>
    </tr>
    <tr>
      <th>pool</th>
      <td><p>indicates whether or not to pool cells into supercells. Acceptable values
are TRUE, FALSE, or 'auto', the last of which is the default and enables
pooling if there are more than 100000 cells.</p></td>
    </tr>
    <tr>
      <th>cellsPerPartition</th>
      <td><p>the target number of cells to put into a supercell when pooling</p></td>
    </tr>
    <tr>
      <th>name</th>
      <td><p>a name for the sample - shown on the output report</p></td>
    </tr>
    <tr>
      <th>num_neighbors</th>
      <td><p>the number of neighbors to consider for downstream analyses.'</p></td>
    </tr>
    <tr>
      <th>latentSpace</th>
      <td><p>latent space for expression data. Numeric matrix or dataframe
with dimensions CELLS x COMPONENTS</p></td>
    </tr>
    <tr>
      <th>latentSpaceName</th>
      <td><p>a name for the latent space method (used in output report)</p></td>
    </tr>
    <tr>
      <th>latentTrajectory</th>
      <td><p>trajectory to model cell progression.  Wrapped result
of a trajectory inference method by the dynverse/dynwrap library</p></td>
    </tr>
    <tr>
      <th>tree</th>
      <td><p>a phylo object</p></td>
    </tr>
    <tr>
      <th>modData</th>
      <td><p>a list of signature objects for user defined modules</p></td>
    </tr>
    <tr>
      <th>hotspot</th>
      <td><p>a list containing one hotspot object precomputed in python and loaded in via reticulate</p></td>
    </tr>
    <tr>
      <th>pools</th>
      <td><p>assignments of cell to micropool.  Used when microclustering batches
separately and then combining.  See vignette for usage.</p></td>
    </tr>
    <tr>
      <th>dimRed</th>
      <td><p>Dimensionality reduction to use for the latentSpace.  Default is to
look for "pca" and use that if it exists</p></td>
    </tr>
    <tr>
      <th>dimRedComponents</th>
      <td><p>number of components to use for the selected dimensionality
reduction.  Default is to use all components</p></td>
    </tr>
    <tr>
      <th>assay</th>
      <td><p>The assay slot in the Seurat object to use for expression data</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A VISION object</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='va'>expMat</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.csv</a></span><span class='op'>(</span><span class='st'>"expressionMatrix.csv"</span>, row.names<span class='op'>=</span><span class='fl'>1</span><span class='op'>)</span>
<span class='va'>meta</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.csv</a></span><span class='op'>(</span><span class='st'>"metaData.csv"</span>, row.names<span class='op'>=</span><span class='fl'>1</span><span class='op'>)</span>

<span class='va'>sigs</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"/path/to/signatures/msigdb_Hallmark.gmt"</span>,
          <span class='st'>"/path/to/signatures/Enrichr/ChEA_2015.txt"</span>
         <span class='op'>)</span>


<span class='va'>vis</span> <span class='op'>&lt;-</span> <span class='fu'>Vision</span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>expMat</span>,
              signatures <span class='op'>=</span> <span class='va'>sigs</span>,
              meta <span class='op'>=</span> <span class='va'>meta</span><span class='op'>)</span>
<span class='op'>}</span>
</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Matt Jones, David Detomaso, Tal Ashuach, Yanay Rosen.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


